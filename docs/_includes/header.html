<header class="site-header" role="banner">
  <style>
    /* Apple-like nav; consistent on every page */
    .site-header {
      background:#fff;
      border-bottom:1px solid #e5e5e7;
      position:sticky; top:0; z-index:1000;
      -webkit-backdrop-filter:saturate(180%) blur(20px);
      backdrop-filter:saturate(180%) blur(20px);
    }
    .nav-container{
      max-width: 1040px;              /* gives breathing room */
      margin: 0 auto;
      padding: 1rem 2rem;             /* keeps "Home" off the edge */
      display: grid;
      grid-template-columns: 1fr auto 1fr; /* left brand | center tabs | right spacer */
      align-items: center;
      gap: 1rem;
    }
    .home-link{
      justify-self: start;
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Helvetica Neue",Arial,sans-serif;
      font-weight:600; font-size:1.05rem; color:#1d1d1f; text-decoration:none;
      transition:opacity .2s ease;
    }
    .home-link:hover{ opacity:.65; }

    .nav-wrap{
      justify-self: center;
      display:flex; gap:2.6rem;
    }
    .page-link{
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Helvetica Neue",Arial,sans-serif;
      font-size:1.05rem; color:#1d1d1f; text-decoration:none;
      transition:color .2s ease, opacity .2s ease;
    }
    .page-link:hover{ color:#0071e3; }
    .page-link[aria-current="page"]{ color:#0071e3; opacity:.95; }

    .right-spacer{ justify-self:end; width:40px; height:1px; }

    @media (max-width: 700px){
      .nav-container{
        grid-template-columns: 1fr; 
        justify-items: center;
        gap:.5rem;
        padding: .8rem 1rem;
      }
      .nav-wrap{ gap:1.2rem; flex-wrap:wrap; }
      .right-spacer{ display:none; }
    }
  </style>

  <div class="nav-container">
    <!-- Left: Home (change text to your name if you prefer) -->
    <a class="home-link" href="{{ "/" | relative_url }}">{{ site.title | default: "Home" }}</a>

    <!-- Center: tabs in the EXACT order from _config.yml/header_pages -->
    <nav class="nav-wrap" aria-label="Primary">
      {% for hp in site.header_pages %}
        {% assign fname = hp | split: '/' | last %}
        {% assign p = site.pages | where: "name", fname | first %}
        {% if p %}
          <a class="page-link"
             href="{{ p.url | relative_url }}"
             aria-current="{% if page.url == p.url %}page{% endif %}">
             {{ p.title }}
          </a>
        {% endif %}
      {% endfor %}
    </nav>

    <!-- Right: spacer to balance the grid -->
    <div class="right-spacer"></div>
  </div>
</header>
