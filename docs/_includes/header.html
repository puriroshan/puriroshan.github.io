<header class="site-header" role="banner">
  <style>
    :root{
      --hdr-bg:#fff; --hdr-border:#e5e5e7; --hdr-text:#1d1d1f; --hdr-link:#0071e3;
    }
    @media (prefers-color-scheme: dark){
      :root{ --hdr-bg:#000; --hdr-border:#1f1f1f; --hdr-text:#f5f5f7; --hdr-link:#2997ff; }
    }

    .site-header{
      background:var(--hdr-bg);
      border-bottom:1px solid var(--hdr-border);
      position:sticky; top:0; z-index:1000;
      -webkit-backdrop-filter:saturate(180%) blur(20px);
      backdrop-filter:saturate(180%) blur(20px);
      transition:background-color .25s, border-color .25s;
    }

    .nav-container{
      max-width:980px; margin:0 auto; padding:.9rem 1.25rem;
      display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:1rem;
    }

    .home-link,.page-link{
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Helvetica Neue",Arial,sans-serif;
      font-size:1.05rem; color:var(--hdr-text); text-decoration:none;
      transition:color .2s, opacity .2s;
    }
    .home-link:hover{ opacity:.7; }

    .nav-wrap{ justify-self:center; display:flex; gap:2.6rem; }
    .page-link:hover{ color:var(--hdr-link); }
    .page-link[aria-current="page"]{ color:var(--hdr-link); opacity:.95; }
    .right-spacer{ justify-self:end; width:40px; height:1px; }

    @media (max-width:700px){
      .nav-container{ grid-template-columns:1fr; justify-items:center; gap:.5rem; }
      .nav-wrap{ gap:1.2rem; flex-wrap:wrap; }
      .right-spacer{ display:none; }
    }
  </style>

  <div class="nav-container">
    <!-- Left: Home (uses your site title if set, else “Home”) -->
    <a class="home-link" href="{{ "/" | relative_url }}">{{ site.title | default: "Home" }}</a>

    <!-- Center: tabs in the EXACT order from _config.yml/header_pages -->
    <nav class="nav-wrap" aria-label="Primary">
      {% for path in site.header_pages %}
        {% assign p = site.pages | where: "path", path | first %}
        {% if p %}
          <a class="page-link"
             href="{{ p.url | relative_url }}"
             aria-current="{% if page.url == p.url %}page{% endif %}">{{ p.title }}</a>
        {% endif %}
      {% endfor %}
    </nav>

    <div class="right-spacer"></div>
  </div>
</header>
